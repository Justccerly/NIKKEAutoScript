"use strict";const{app:t,BrowserWindow:o}=require("electron"),a=require("path"),l=require("electron-win-state").default;require("./ipc/WindowStrategy");require("./ipc/Flask");let e=null;const n=new l({defaultWidth:1280,defaultHeight:720});function i(){e=new o({...n.winOptions,show:!1,frame:!1,titleBarStyle:"hiddenInset",webPreferences:{preload:a.join(__dirname,"preload.js"),webSecurity:!1}}),t.isPackaged?e.loadFile("./dist/index.html"):(e.loadURL("http://localhost:5173/"),e.webContents.openDevTools()),e.on("ready-to-show",()=>{e.show()}),n.manage(e)}t.whenReady().then(()=>{i(),t.on("activate",function(){o.getAllWindows().length===0&&i()})});t.on("window-all-closed",function(){process.platform!=="darwin"&&t.quit()});
